# Predicting of anaphylaxis in big data EMR by exploring machine learningapproaches.

## Abstract

Anaphylaxis is a life-threatening allergic reaction that occurs suddenly after contact with an allergen. Epidemiological studies about anaphylaxis are very important in planning and evaluating new strategies that prevent this reaction, but also in providing a guide to the treatment of patients who have just suffered an anaphylactic reaction. Electronic Medical Records (EMR) are one of the most effective and richest sources for the epidemiology of anaphylaxis because they provide a low-cost way of accessing rich longitudinal data on large populations. However, a negative aspect is that researchers have to manually review a huge amount of information, which is a very costly and highly time-consuming task. Therefore, our goal is to explore different machine learning techniques to process Big Data EMR, lessening the needed efforts for performing epidemiological studies about anaphylaxis. In particular, we aim to study the incidence of anaphylaxis by the automatic classification of EMR. To do this, we employ the most widely used and efficient classifiers in text classification and compare different document representations, which range from well-known methods such as Bag Of Words(BoW) to more recent ones based on word embedding models, such as a simple average of word embeddings or a bag of centroids of word embeddings. Because the identification of anaphylaxis cases in EMR is a class-im-balanced problem (less than 1% describe anaphylaxis cases), we employ a novel undersampling technique based on clustering to balance our dataset. In addition to classical machine learning algorithms, we also use a Convolutional Neural Network (CNN) to classify our dataset. In general, experiments show that most classifiers and representations are effective (F1 above 90%). Logistic Regression, Linear SVM, Multilayer Perceptron and Random Forest achieve an F1 around 95%, however, linear methods have considerably lower training times.CNN provides slightly better performance (F1 =95.6%).

## Dataset 

Consists of computerized records of patients attended at the Emergency Department of the Hospital Universitario Fundación Alcorcón (HUFA) (a major general hospital in Alcorcón, a city in the Madrid metropolitan area of Spain, with a population of 167,354) and also from the diagnosis database of its Allergy Unit, where all cases of anaphylaxis and other allergic reactions are stored. The records are written in Spanish.
# Reference

[Segura-Bedmar  I,  Colón-Ruiz  C,  Tejedor-Alonso  MA,  Moro-Moro  M  (2018). Predicting  of  anaphylaxis  in  big  data  emr  by  exploring  machine  learning approaches. Journal of biomedical informatics 87:50–59](https://www.sciencedirect.com/science/article/pii/S1532046418301874)
